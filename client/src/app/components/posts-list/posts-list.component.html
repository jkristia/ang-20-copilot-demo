<mat-toolbar color="primary" class="toolbar">
  <span>Blog Posts</span>
  <span class="spacer"></span>
  <button mat-icon-button (click)="loadPosts()" matTooltip="Refresh">
    <mat-icon>refresh</mat-icon>
  </button>
  <button mat-raised-button color="accent" (click)="openNewPostDialog()">
    <mat-icon>add</mat-icon>
    New Post
  </button>
</mat-toolbar>

<div class="container">
  @if (loading()) {
    <div class="loading-container">
      <mat-spinner></mat-spinner>
    </div>
  } @else if (posts().length === 0) {
    <div class="no-posts">
      <mat-icon>article</mat-icon>
      <h2>No posts yet</h2>
      <p>Create your first post by clicking the "New Post" button above.</p>
    </div>
  } @else {
    <div class="posts-grid">
      @for (post of posts(); track post.id) {
        <mat-card class="post-card">
          <mat-card-header>
            <mat-card-title>{{ post.topic }}</mat-card-title>
            <mat-card-subtitle>
              <mat-icon class="date-icon">calendar_today</mat-icon>
              {{ formatDate(post.date) }}
            </mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <p>{{ post.message }}</p>
          </mat-card-content>
        </mat-card>
      }
    </div>
  }
</div>
